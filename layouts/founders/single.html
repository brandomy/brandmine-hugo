{{ define "main" }}
<article class="founder-single">
  <div class="container">
    <!-- Founder Hero -->
    <header class="founder-hero">
      <div class="hero-content">
        {{ $founderSlug := path.Base .File.Dir }}

        {{ with .Params.photo }}
          {{ partial "responsive-image.html" (dict
            "src" (printf "images/founders/%s/originals/%s" $founderSlug .)
            "alt" $.Title
            "sizes" "(min-width: 768px) 300px, 200px"
            "class" "founder-photo"
          ) }}
        {{ else }}
          <img src="/images/placeholders/founder-portrait-800w.jpg" alt="{{ $.Title }}" class="founder-photo" loading="lazy">
        {{ end }}

        <div class="hero-text">
          <h1>{{ .Title }}</h1>

          {{ with .Params.role }}
            <p class="founder-role">{{ . }}</p>
          {{ end }}

          {{ with .Params.location }}
            <p class="founder-location">
              <svg width="16" height="16" fill="currentColor" viewBox="0 0 16 16" aria-hidden="true">
                <path d="M8 0a5 5 0 0 0-5 5c0 2.5 5 11 5 11s5-8.5 5-11a5 5 0 0 0-5-5zm0 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4z"/>
              </svg>
              {{ . }}
            </p>
          {{ end }}
        </div>
      </div>
    </header>

    <!-- Founder Content -->
    <div class="founder-content">
      <div class="content-main">
        {{ .Content }}
      </div>

      <!-- Sidebar -->
      <aside class="content-sidebar">
        <!-- Professional Info -->
        <div class="info-box">
          <h3>{{ i18n "professional" | default "Professional" }}</h3>

          {{ with .Params.industry }}
            <div class="info-item">
              <strong>{{ i18n "industry" | default "Industry" }}:</strong>
              <span>{{ . }}</span>
            </div>
          {{ end }}

          {{ with .Params.expertise }}
            <div class="info-item">
              <strong>{{ i18n "expertise" | default "Expertise" }}:</strong>
              <ul class="expertise-list">
                {{ range . }}
                  <li>{{ . }}</li>
                {{ end }}
              </ul>
            </div>
          {{ end }}

          {{ with .Params.education }}
            <div class="info-item">
              <strong>{{ i18n "education" | default "Education" }}:</strong>
              <span>{{ . }}</span>
            </div>
          {{ end }}
        </div>

        <!-- Languages -->
        {{ with .Params.languages }}
          <div class="info-box">
            <h3>{{ i18n "languages" | default "Languages" }}</h3>
            <ul class="language-list">
              {{ range . }}
                <li>{{ . }}</li>
              {{ end }}
            </ul>
          </div>
        {{ end }}

        <!-- Contact -->
        <div class="info-box">
          <h3>{{ i18n "contact" | default "Contact" }}</h3>

          {{ with .Params.email }}
            <a href="mailto:{{ . }}" class="contact-link">
              <svg width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                <path d="M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4zm2-1a1 1 0 0 0-1 1v.217l7 4.2 7-4.2V4a1 1 0 0 0-1-1H2zm13 2.383l-4.758 2.855L15 11.114v-5.73zm-.034 6.878L9.271 8.82 8 9.583 6.728 8.82l-5.694 3.44A1 1 0 0 0 2 13h12a1 1 0 0 0 .966-.739zM1 11.114l4.758-2.876L1 5.383v5.73z"/>
              </svg>
              {{ . }}
            </a>
          {{ end }}

          {{ with .Params.linkedin }}
            <a href="{{ . }}" class="contact-link" target="_blank" rel="noopener">
              <svg width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                <path d="M0 1.146C0 .513.526 0 1.175 0h13.65C15.474 0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487 0 14.854V1.146zm4.943 12.248V6.169H2.542v7.225h2.401zm-1.2-8.212c.837 0 1.358-.554 1.358-1.248-.015-.709-.52-1.248-1.342-1.248-.822 0-1.359.54-1.359 1.248 0 .694.521 1.248 1.327 1.248h.016zm4.908 8.212V9.359c0-.216.016-.432.08-.586.173-.431.568-.878 1.232-.878.869 0 1.216.662 1.216 1.634v3.865h2.401V9.25c0-2.22-1.184-3.252-2.764-3.252-1.274 0-1.845.7-2.165 1.193v.025h-.016a5.54 5.54 0 0 1 .016-.025V6.169h-2.4c.03.678 0 7.225 0 7.225h2.4z"/>
              </svg>
              LinkedIn
            </a>
          {{ end }}
        </div>
      </aside>
    </div>

    <!-- Associated Brands -->
    {{ $founderSlug := path.Base .File.Dir }}
    {{ $brands := where .Site.RegularPages "Params.founder" $founderSlug }}
    {{ if $brands }}
      <section class="founder-brands">
        <h2>{{ i18n "brands" | default "Brands" }}</h2>
        <div class="brand-grid">
          {{ range $brands }}
            {{ partial "card-brand.html" . }}
          {{ end }}
        </div>
      </section>
    {{ end }}
  </div>
</article>

<style>
.founder-single {
  padding: var(--space-8) 0;
}

.founder-hero {
  margin-bottom: var(--space-12);
  padding: var(--space-8);
  background: linear-gradient(135deg, var(--primary-50) 0%, var(--accent-50) 100%);
  border-radius: var(--radius-lg);
}

.hero-content {
  display: flex;
  align-items: center;
  gap: var(--space-8);
  flex-wrap: wrap;
}

.founder-photo {
  width: 200px;
  height: 200px;
  border-radius: 50%;
  object-fit: cover;
  border: 4px solid white;
  box-shadow: var(--shadow-lg);
}

.hero-text h1 {
  font-size: var(--text-5xl);
  margin-bottom: var(--space-3);
}

.founder-role {
  font-size: var(--text-xl);
  color: var(--primary-700);
  font-weight: var(--font-semibold);
  margin-bottom: var(--space-2);
}

.founder-location {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  color: var(--neutral-600);
}

.founder-content {
  display: grid;
  grid-template-columns: 1fr;
  gap: var(--space-8);
  margin-bottom: var(--space-12);
}

.content-main {
  font-size: var(--text-lg);
  line-height: var(--leading-relaxed);
  color: var(--neutral-800);
}

.content-main p {
  margin-bottom: var(--space-6);
}

.info-box {
  padding: var(--space-6);
  background: white;
  border: 1px solid var(--neutral-200);
  border-radius: var(--radius-md);
  margin-bottom: var(--space-6);
}

.info-box h3 {
  font-size: var(--text-xl);
  margin-bottom: var(--space-4);
  color: var(--neutral-900);
}

.info-item {
  margin-bottom: var(--space-4);
}

.info-item:last-child {
  margin-bottom: 0;
}

.info-item strong {
  display: block;
  font-size: var(--text-sm);
  color: var(--neutral-600);
  margin-bottom: var(--space-1);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wide);
}

.info-item span {
  color: var(--neutral-800);
}

.expertise-list,
.language-list {
  list-style: none;
  margin: 0;
  padding: 0;
}

.expertise-list li,
.language-list li {
  padding: var(--space-2) 0;
  color: var(--neutral-700);
  border-bottom: 1px solid var(--neutral-200);
}

.expertise-list li:last-child,
.language-list li:last-child {
  border-bottom: none;
}

.contact-link {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  padding: var(--space-3);
  color: var(--neutral-700);
  border-radius: var(--radius-sm);
  transition: all 0.2s ease;
  margin-bottom: var(--space-2);
}

.contact-link:hover {
  background: var(--neutral-100);
  color: var(--primary-600);
}

.founder-brands {
  margin-top: var(--space-12);
}

.founder-brands h2 {
  font-size: var(--text-3xl);
  margin-bottom: var(--space-8);
}

.brand-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
  gap: var(--space-6);
}

@media (min-width: 992px) {
  .founder-content {
    grid-template-columns: 2fr 1fr;
  }

  .brand-grid {
    grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
  }
}
</style>
{{ end }}
